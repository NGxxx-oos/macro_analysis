# Инструмент для анализа макроэкономических данных из CSV файлов. Позволяет рассчитывать средний ВВП по странам и легко расширяется для добавления новых видов отчётов.

# Возможности

- Чтение одного или нескольких CSV файлов с экономическими данными
- Расчёт среднего ВВП по странам (отчёт `average-gdp`)
- Сортировка результатов по убыванию ВВП
- Красивое форматирование таблиц с помощью `tabulate`
- Обработка ошибок и некорректных входных данных
- Расширяемая архитектура для добавления новых отчётов
- Полное покрытие тестами (pytest)

# Конфигурация

Скрипт ожидает CSV файлы со следующими колонками:
country - название страны (обязательно)
gdp - ВВП в миллиардах USD (обязательно для отчёта average-gdp)
остальные колонки опциональны

# Примеры работы

Пример 1: Анализ одного файла
bash
python macro_analysis.py --files data/file1.csv --report average-gdp
Результат:

text
Reading 1 file(s)...
Loaded 40 records

+-----------------+--------------------------+
| Country         | Average GDP (billions USD) |
+=================+==========================+
| United States   | 23923.67                  |
+-----------------+--------------------------+
| China           | 17810.33                  |
+-----------------+--------------------------+
| Japan           | 4467.00                   |
+-----------------+--------------------------+
| Germany         | 4138.33                   |
+-----------------+--------------------------+
| India           | 3423.67                   |
+-----------------+--------------------------+
| United Kingdom  | 3113.33                   |
+-----------------+--------------------------+
| France          | 2834.67                   |
+-----------------+--------------------------+
| Russia          | 2077.67                   |
+-----------------+--------------------------+
| Canada          | 2096.33                   |
+-----------------+--------------------------+
| Brazil          | 1900.67                   |
+-----------------+--------------------------+
| Italy           | 2042.00                   |
+-----------------+--------------------------+
| South Korea     | 1727.33                   |
+-----------------+--------------------------+
| Australia       | 1637.00                   |
+-----------------+--------------------------+

Пример 2: Анализ нескольких файлов
bash
python macro_analysis.py --files data/file1.csv data/file2.csv --report average-gdp
Результат:

text
Reading 2 file(s)...
Loaded 60 records

+-----------------+--------------------------+
| Country         | Average GDP (billions USD) |
+=================+==========================+
| United States   | 23923.67                  |
+-----------------+--------------------------+
| China           | 17810.33                  |
+-----------------+--------------------------+
| Japan           | 4467.00                   |
+-----------------+--------------------------+
| Germany         | 4138.33                   |
+-----------------+--------------------------+
| India           | 3423.67                   |
+-----------------+--------------------------+
| United Kingdom  | 3113.33                   |
+-----------------+--------------------------+
| France          | 2834.67                   |
+-----------------+--------------------------+
| Canada          | 2096.33                   |
+-----------------+--------------------------+
| Russia          | 2077.67                   |
+-----------------+--------------------------+
| Italy           | 2042.00                   |
+-----------------+--------------------------+
| Brazil          | 1900.67                   |
+-----------------+--------------------------+
| South Korea     | 1727.33                   |
+-----------------+--------------------------+
| Australia       | 1637.00                   |
+-----------------+--------------------------+
| Spain           | 1409.33                   |
+-----------------+--------------------------+
| Mexico          | 1392.67                   |
+-----------------+--------------------------+
| Indonesia       | 1274.33                   |
+-----------------+--------------------------+
| Saudi Arabia    | 1016.33                   |
+-----------------+--------------------------+
| Netherlands     | 1006.00                   |
+-----------------+--------------------------+
| Turkey          | 927.33                    |
+-----------------+--------------------------+
| Switzerland     | 845.00                    |
+-----------------+--------------------------+
Пример 3: Обработка ошибок
bash

# Несуществующий файл
python macro_analysis.py --files nonexistent.csv --report average-gdp
Результат:

text
Error: File not found: nonexistent.csv
bash

# Неверное имя отчёта
python macro_analysis.py --files data/file1.csv --report invalid-report
Результат:

text
usage: macro_analysis.py [-h] --files FILES [FILES ...] --report {average-gdp}
macro_analysis.py: error: argument --report: invalid choice: 'invalid-report' (choose from 'average-gdp')

# Результаты тестов

tests/test_macro_analysis.py ...............                          [100%]

----------- coverage: platform darwin, python 3.9.6-final-0 -----------
Name                 Stmts   Miss  Cover
----------------------------------------
macro_analysis.py      128      8    94%
----------------------------------------
TOTAL                  128      8    94%
